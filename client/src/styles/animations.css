/* Enhanced Chess Board Animations */

.chess-canvas {
  transition: all 0.3s ease;
}

.chess-canvas.glow-selected {
  box-shadow: 0 0 20px rgba(255, 215, 0, 0.8), 
              0 0 40px rgba(255, 215, 0, 0.6), 
              0 0 60px rgba(255, 215, 0, 0.4);
  transform: scale(1.02);
}

/* Enhanced animation states */
.chess-canvas.animating {
  transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Particle Effects Keyframes */
@keyframes sparkle {
  0% {
    opacity: 1;
    transform: scale(0) rotate(0deg);
  }
  50% {
    opacity: 0.8;
    transform: scale(1) rotate(180deg);
  }
  100% {
    opacity: 0;
    transform: scale(0) rotate(360deg);
  }
}

@keyframes magic-glow {
  0% {
    opacity: 0.8;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
  100% {
    opacity: 0;
    transform: scale(1.5);
  }
}

@keyframes capture-explosion {
  0% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.5);
  }
  100% {
    opacity: 0;
    transform: scale(2);
  }
}

@keyframes wizard-teleport {
  0% {
    opacity: 1;
    transform: scale(1) rotate(0deg);
  }
  50% {
    opacity: 0;
    transform: scale(1.5) rotate(180deg);
  }
  100% {
    opacity: 1;
    transform: scale(1) rotate(360deg);
  }
}

/* Enhanced attack burst animation */
@keyframes attack-burst {
  0% {
    opacity: 1;
    transform: scale(1);
    box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.8);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.3);
    box-shadow: 0 0 0 20px rgba(255, 215, 0, 0.4);
  }
  100% {
    opacity: 0;
    transform: scale(2);
    box-shadow: 0 0 0 40px rgba(255, 215, 0, 0);
  }
}

.attack-burst {
  animation: attack-burst 0.2s ease-out forwards;
}

/* Victory and Defeat Animations */
@keyframes victory-pulse {
  0% {
    box-shadow: 0 0 0 0 rgba(0, 255, 0, 0.7);
  }
  70% {
    box-shadow: 0 0 0 30px rgba(0, 255, 0, 0);
  }
  100% {
    box-shadow: 0 0 0 0 rgba(0, 255, 0, 0);
  }
}

@keyframes defeat-shake {
  0%, 100% { 
    transform: translateX(0); 
  }
  10%, 30%, 50%, 70%, 90% { 
    transform: translateX(-5px); 
  }
  20%, 40%, 60%, 80% { 
    transform: translateX(5px); 
  }
}

.victory-animation {
  animation: victory-pulse 2s infinite;
}

.defeat-animation {
  animation: defeat-shake 0.5s ease-in-out 3;
}

/* Enhanced Piece Movement Effects */
@keyframes piece-slide {
  0% {
    opacity: 1;
    transform: translateX(0) translateY(0);
  }
  100% {
    opacity: 1;
    transform: translateX(var(--target-x)) translateY(var(--target-y));
  }
}

@keyframes piece-trail {
  0% {
    opacity: 0.8;
    transform: scale(1);
  }
  100% {
    opacity: 0;
    transform: scale(0.3);
  }
}

.piece-trail {
  animation: piece-trail 0.5s ease-out forwards;
}

.piece-sliding {
  animation: piece-slide 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards;
}

/* Check Warning Animation */
@keyframes check-warning {
  0%, 100% {
    box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.8);
  }
  50% {
    box-shadow: 0 0 0 20px rgba(255, 0, 0, 0.3);
  }
}

.check-warning {
  animation: check-warning 1s ease-in-out 3;
}

/* Castling Special Effect */
@keyframes castling-flash {
  0% {
    background: rgba(255, 215, 0, 0);
  }
  50% {
    background: rgba(255, 215, 0, 0.3);
  }
  100% {
    background: rgba(255, 215, 0, 0);
  }
}

.castling-effect {
  animation: castling-flash 0.8s ease-in-out 2;
}

/* Enhanced Hover Effects */
.chess-canvas:hover {
  transform: scale(1.01);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease;
}

/* Mobile Responsive Animations */
@media (max-width: 768px) {
  .chess-canvas.glow-selected {
    transform: scale(1.01);
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.6);
  }
  
  .chess-canvas:hover {
    transform: scale(1.005);
  }
}